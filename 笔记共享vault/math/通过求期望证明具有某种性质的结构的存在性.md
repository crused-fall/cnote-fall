---
tags:
  - math
  - tool_idea
---
### 1. 方法介绍

#### 1.1 基本原理

通过概率的方式去证明组合当中结构的存在性，其基本的想法来自于这样一个关于随机变量的期望(也就是可测函数的积分)的事实

> [!关于期望(积分)的事实]
> $X:\Omega \to \mathbb{R}$是随机变量，
> $$\sup_{\omega \in \Omega}X(\omega)\geq \mathbb{E}(X)\geq \inf_{\omega \in \Omega} X(\omega)$$

* 如果我得到$E(X)=a$,那么一定存在一个$\omega_1\in \Omega$使得$X(\omega_1)\geq a$,以及存在一个$\omega_2\in \Omega$使得$a \geq X(\omega_2)$。否则的话假设$X(\omega)<a,\forall \omega\in \Omega$那么
* 如果我们得到$E(X)>a$,那么由于$\sup_{\omega \in \Omega}X(\omega)>a$那么一定存在$\omega_1\in \Omega$使得$X(\omega_1)>a$。反过来如果$E(X)<a$,那么由于$a>\inf_{\omega \in \Omega}X(\omega)$那么一定存在$\omega_2\in \Omega$使得$a>X(\omega_2)$。


> [!通过期望证明存在性的原则]
> 1. 我们需要证明某个满足某种数量关系的结构是存在的，并且我们暂时不需要知道存在的结构具体的细节，只需要知道是否存在。
> 2. 把这种数量关系定义为一个随机变量。(把这种数量关系给随机化)
> 3. 求这个随机变量的期望，得到这个期望满足的等式/不等式。然后根据期望的结果，断定某种结构的存在性。

一些典型的例子：
* [[证明存在一个单位球当中m个向量的交错和下界至少为根号m]]这个例子当中只要求存在性而不要求具体的构造，于是想到试试看，随便选一个交错和会如何，即平均情况是怎样的？这里对随机化的构造是$$X(\omega) =||\xi_1(\omega)v_1+...+\xi_m(\omega)v_m||^2$$即我们把交错和的正负号变成一个Bernoulli随机变量$\xi_i$，然后我们计算期望，最后发现$\mathbb{E}(X)=m$于是显然存在一个$X(\omega_0)\geq m$。
* [[满足某种约束条件的n个实数存在某种重排使得重排以后和小于0]]
* 有限[[鸽笼原理]]当中有一个版本的证明可以通过概率的方式，证明存在某个$y_0 \in B$ 使得其映射的原像$|f^{-1}(y_0)| > \lfloor n/m\rfloor$.这是典型的通过构造随机变量，通过期望的等式或者不等式，得到确定某个结构的存在性的用法。
* [[模长总和为1的n个复数中，至少能合成一个模长多大的复数]]：在这个问题当中，我们已知$\mathbb{R}^2$当中$n$个向量模长之和的约束条件$$||v_1||+\cdots+||v_n||=1$$然后我们需要证明这里面存在一些向量其和的模长满足下界的要求，即$$\left \| \sum_{k\in S\subseteq \{1,\cdots,n\}}v_k\right\|\geq \frac{1}{\pi}$$我们基本的出发点是考虑到，可以取一个向量$v$，然后考虑所有与$u$的内积为正的向量的和的下界是好估计的。比如一些特殊情况下，我们能证明下界为$\frac{1}{6}$或者$\frac{\sqrt{2}}{8}$。然后我们想到这里如果让$u$是一个随机的向量$u_{\theta}$,那么所有与$u_{\theta}$的内积为正的向量的和$$v_{\theta}:=\sum_{k\in S_{\theta}} v_k$$其模长的期望可以作为一个下界。如果期望满足$$\mathbb{E}(||v_{\theta}||)\geq \frac{1}{\pi}$$那么一定存在一个具体的$v_{\theta_0}$使得满足下界至少为$\frac{1}{\pi}$。
#### 1.2 分解随机变量

> [!计数问题对应的随机变量]
> 我们要搞清楚随机变量的期望，就必须知道关于它值的分布的信息。
> 
> 如果此时随机变量$X$是某个计数问题产生的随机变量，我们通常可以把计数问题转换为一系列的yes or no的判断，从而把随机变量分解为$$X=\sum_i Y_i$$其中因为$Y_i$只是判断是否，其取值为$\{0,1\}$，因此相对于$X$我们更容易确定其值的分布，那么最后我们只需要利用期望的线性性质，那么$$\mathbb{E}(X)=\sum_i \mathbb{E}(Y_i)$$

一些例子：
* [[选手答题的组合问题]]：$P_2\subset \mathcal{P}(A)$是$A$的power set的集合数量为2的一个子集。那么从$A$中随机选取两个选手，并考察二者去掉重复以后一共答对的题目数量，就相当于定义了一个$P_2\to \{0,1,2,3,4,5,6\}$的一个随机变量$X(\omega),\omega\in P_2$。对于这个随机变量，直接搞清楚其值的分布比较困难，但是$X$是可以被分解为一些更简单的yes or no的判断的，即$$X(\omega)=\sum_{i=0}^6 Y_i(\omega)$$其中$Y_i(\omega)$应该对应的是每一个题目的答题情况，我们可以定义为$$Y_i(\omega):=\begin{cases}1&\omega \text{对应的两个人中有一个人答对了第}i\text{题}\\ 0 & \omega \text{对应的两个人都没答对第}i\text{题}\end{cases}$$那么问题就变得简单了。
* [[利用随机选取的集合的和集大小的期望证明某种尺寸的合集的存在性]]在这个问题当中我们需要证明，给定$A\subset \mathbb{Z}_{N^2}$并且$|A|=N$的集合,存在一个$B\subset \mathbb{Z}_{N^2}$并且$|B|=N$使得$$|A+B|> \frac{N^2}{2}$$其中$A+B:=\{a+b:a\in A,b\in B\}$。而我们的想法就是把所有的$\mathbb{Z}_{N^2}$当中的元素个数为$N$的子集设定为$P_N$,我们想知道从$P_N$当中随机选择一个集合$B$,此时随机变量$X(B):=|A+B|$的期望是什么，会不会大于$\frac{N^2}{2}$?当然因为随机变量$X$并不是非常容易计算，但是我们发现可以分解这种随机变量，使得$$X(B):=|A+B|=\sum_{c\in \mathbb{Z}_{N^2}}X_c(B)$$这种分解会比较方便，我们只需要搞清楚每一个组成$X$的简单随机变量的值的分布情况即可。
* [[不包含0的n个整数的集合能包含多大的sum-free子集]]:“定理1”的证明中，Erdos构造了一个随机的集合，以它的尺寸作为随机变量。然后对于集合尺寸这个随机变量的计算和上面的例子是非常类似的，同样是利用indicator以及期望的线性性，把随机变量做分解。
















