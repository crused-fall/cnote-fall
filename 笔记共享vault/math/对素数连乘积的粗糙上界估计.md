---
tags:
  - math
  - 数论
  - 中学数学竞赛
---

> [!命题1]
> 对于任意正整数$n$，以及不超过$n$的素数$p$有$$\prod_{p\leq n}p<4^n$$

* 这个问题曾经出现在韩国数学竞赛KMO2007年的题目当中。
* 如果令$f(n):=\prod_{p\leq n}p$那么当$n$足够大的时候$$f(n)\approx e^n$$我们考虑$f(x)$其中$x$为正实数，于是$$\log(f(x)^{1/x})=\frac{1}{x}\sum_{p\leq x}\log(p)=\frac{\theta(x)}{x}$$其中$\theta(x)$为Chebyshev $\theta$函数，而素数定理(PNT)等价于$\theta(x)\sim x$，因此$$f(x)\sim e^x$$
### 1. 思路1：转换为对Chebyshev $\theta$函数的上界估计

这个问题本质上，我们可以通过对不等式两边进行对数化，把这个命题看成是对Chebyshev的$\theta(x):=\sum_{p\leq x}\log(p)$函数的上界估计，在[[Bertrand假设的证明]]的2.1节当中我们用初等方法证明了$$\theta(n)\leq 2\log(2)n\approx 1.38n$$的结果。当然如果我们采用更复杂的方法，我们可以得到$\theta(n)\leq an$其中$a$非常接近于1,毕竟我们知道$$\theta(x)=x+o(x)$$
### 2. 思路2：采用归纳法进行验证

#### 2.1 证明的主要步骤

首先$n=1,2,3,4$的时候命题是成立的。现在假设对任意$i\leq n$命题都成立，我们需要证明命题对$n+1$的时候是成立的。

这个时候需要分$n$为奇数或者偶数两种情况讨论，因为当$n$是奇数的时候，情况是平凡的。因为若$n$为奇数，那么$n+1$就是偶数，而除了$2$以外是没有偶素数的，那么由归纳法的假设$$\prod_{p\leq n+1}p=\prod_{p\leq n}p<4^n<4^{n+1}$$
所以真正需要考虑的实际上是当$n$为偶数的情况，假设$n=2k$，现在我们需要证明$\prod_{i\leq 2k+1}p<4^{2k+1}$。

此处证明的主要手段就是分段估计。

> [!分段估计的主要思路]
> $$A_1:=\{1,\cdots,k+1\},A_2:=\{k+2,\cdots,2k+1\}$$
> 
> 我们知道$A_1$当中素数的乘积有一个上界的估计$4^{k+1}$，而如果我们给$A_2$上的素数的乘积一个比$4^{k}$更为精确的已知的上界估计，那么$A_1\cup A_2= \{1,\cdots,2k+1\}$整体上，素数的乘积就可以被$4^k\cdot 4^{k+1} = 4^{2k+1}$给控制起来。
> 

* 此处我们的目标等价于是证明$$\theta(2k+1)-\theta(k+1)=\sum_{k+1<p\leq 2k+1}\log(p)<(k+1)\log(4)$$而我们由归纳法已知$$\theta(k+1)=\sum_{p\leq k+1}\log(p)<k\log(4)$$因此需要保证两段和是差不多的。站在素数定理的角度上来说，这是可行的。因为$\theta(x)\sim x$，因此$$\frac{\theta(2k+1)-\theta(k+1)}{\theta(k+1)}\to \lim_{k\to \infty }\frac{2k+1}{k+1}-1=1$$

此处提供$A_2$上的估计的是下面两个引理：

> [!引理2.1.1(对组合数2n选n的粗略估计)]
> 对任意的正整数$n$都有:$$\binom{2n}{n}<\binom{2n+1}{n}<4^n$$

* 虽然从数值上来说，这个估计是非常粗糙的，因为技术手段就是从二项式$(1+1)^{2n},(1+1)^{2n+1}$上得来的。不过如果开n次根，并且$n$足够大，那么4作为底数又是精确的，因为$\binom{2n}{n}^{1/n}\to 4$。

> [!引理2.1.2]
> $k$是正整数，$p$是素数，当$k+1<p\leq 2k+1$的时候有$$p\mid\mid \binom{2k+1}{k+1}$$

* 这里的$\mid \mid$的意思是，恰好整除，意思是右边的组合数当中$p$的素因子的幂指数就是1。
* 我们可以考虑组合数$b_k:=\binom{2k+1}{k+1}$中素因子$p$的指数，假设为$\nu_p(b_k)$,如果$\nu_p(b_k)=1$那么我们知道$p||b_k$。

组合数的阶乘之间的关系告诉我们，$$\nu_p(b_k)=\nu_p[(2k+1)!]-\nu_p[(k+1)!]-\nu_p[k!]$$
然后因为$k+1<p\leq 2k+1$,因此$p\nmid (k+1)!,k!$于是$\nu_p[(k+1)!],\nu_p[k!]=0$。同时$p\mid (2k+1)!$不过对于任意$c> 1$的正整数$cp \nmid (2k+1)!$于是$$\nu_p(b_k)=1$$
* 这个逻辑在Erdos关于[[Bertrand假设的证明]]当中也出现了，参考超链接当中的"lemma1"的证明。

结合引理2.1.1,2.1.2我们有$$\begin{aligned}\prod_{p\leq 2k+1}p&= \left(\prod_{p\leq k+1}p\right) \left(\prod_{k+1<p\leq 2k+1}p\right)\\&<4^{k+1}\cdot \binom{2k+1}{k+1}\\&< 4^{k+1}\cdot 4^k=4^{2k+1}\end{aligned}$$于是结合归纳法，我们便完成了证明。



