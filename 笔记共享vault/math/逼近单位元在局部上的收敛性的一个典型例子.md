---
tags:
  - math
  - 大学数学竞赛
  - 考研
  - 微积分
  - 实分析
---

> [!问题1]
> $f$是$[0,1]$上黎曼可积的函数,并且在$x=0$处连续，证明$$\lim_{h\to 0^{+}}\int_{0}^{1}\frac{h}{h^2+x^2}f(x)\,dx=\frac{\pi}{2}f(0)$$

### 1. 处理形如$|\int X-Y|$的估计以及分段估计

此处我们把问题理解为一个积分估计的问题，我们无非就是要估计含参数的积分，并得到渐进结果$$\int_{0}^{1}\frac{h}{h^2+x^2}f(x)\,dx=\frac{\pi}{2}f(0)+o(1)$$因此我们要证明，$$I(h):=\left|\int_{0}^{1}\frac{h}{h^2+x^2}f(x)\,dx-\frac{\pi}{2}f(0)\right|=o(1)$$
以上形式立刻让我们想到，[[逐项估计]]的第四节中提到，对于这种形如$|\int X-Y|$的估计，最好是可以把$Y$的部分也写成类似的积分的形式，从而把问题转换到对一个积分的估计，然后再考虑逐项估计的手段，从而完成估计。

假设$K_h(x):=\frac{h}{h^2+x^2}$，这个含参数的函数与$\frac{\pi}{2}$的关联性在于，$$\int_0^1 K_h(x)\,dx=\arctan\left(\frac{1}{h}\right)=\frac{\pi}{2}+O(h)$$所以我们可以把$I(h)$写成$$\begin{aligned}I(h)&:=\left|O(h)+\int_{0}^{1}K_h(x)f(x)-K_h(x)f(0)\,dx\right|\\&\leq O(h)+\int_{0}^{1}|K_h(x)||f(x)-f(0)|\,dx\end{aligned}$$
这里可以考虑分段估计，因为：

首先$K_h(x)$这个函数在$h$确定的情况下，图像如下：![[一个逼近单位元的图像.png]]

其基本特点是，$x$越是靠近0，$K_h(x)$越大，$x$越是远离$0$，$K_h(x)$越小。然后我们考虑到，$f$既然是一个在$x=0$处连续的函数，而整体上又因为黎曼可积从而有界。那么总总迹象都告诉我们，最后要估计的含参数积分，被积分对象在$x=0$附近，以及$x=1$附近有着不同的行为，这意味着我们需要[[分段估计]]。

我们利用$f$的连续性，考虑对任意的$\varepsilon>0$，存在一个$\delta_{\varepsilon}$使得$|x|<\delta_{\varepsilon}$的时候$|f(x)-f(0)|<\varepsilon$。于是$$\begin{aligned}\int_{0}^{1}|K_h(x)||f(x)-f(0)|\,dx&=\int_{0}^{\delta_{\varepsilon}}*\,dx+\int_{\delta_{\varepsilon}}^{1}*\,dx\\&<\varepsilon \int_{0}^{\delta_{\varepsilon}}|K_h(x)|\,dx+2M\int_{\delta_{\varepsilon}}^{1}|K_h(x)|\,dx\\&\end{aligned}$$于是$$I(h)<O(h)+\varepsilon\frac{\pi}{2}+2M\int_{\delta_{\varepsilon}}^{1}|K_h(x)|\,dx$$其中$$\int_{\delta_{\varepsilon}}^{1}|K_h(x)|\,dx=\arctan\left(\frac{1}{h}\right)-\arctan\left(\frac{\delta_{\varepsilon}}{h}\right)=o(1)$$
两边对$h\to 0^{+}$取上极限，于是$$\limsup_{h\to 0^{+}}I(h)\leq \frac{\pi}{2}\varepsilon,\forall \varepsilon>0$$于是$$\lim_{h\to 0^{+}}I(h)=0$$于是$$\int_{0}^{1}\frac{h}{h^2+x^2}f(x)\,dx=\frac{\pi}{2}f(0)+o(1)$$问题便解决了。

* 事实上，这里的证明对$K_h(x)$的要求是符合[[approximation to the identity]]当中对逼近单位元的要求的。也就是说，只要$K_h(x)$是一个逼近单位元，并且$f(x)$在$x=0$处可微，那么含参数积分就会有类似的性质，只不过常数可能不是$\frac{\pi}{2}$。

### 2. 换元法+控制收敛

对于含参数积分的极限的问题，另外一个自然的想法就是考虑“控制收敛”。不过$K_h(x)f(x)$不能直接被一个可积函数控制起来，但这不代表此路径就注定失败，毕竟我们可以通过换元来改变积分的形式。
$$\int_{\mathbb{R}}\frac{h}{h^2+x^2}f(x)1_{[0,1]}(x)\,dx=\int_{\mathbb{R}} \frac{1}{1+(\frac{x}{h})^2}f(x)1_{[0,1]}(x)\frac{1}{h}\,dx$$
我们这里可以做一个换元，令$x=hy,y\in [0,\frac{1}{h}]$,从而我们要计算的积分的极限变成$$\lim_{h\to 0^{+}}\int_{\mathbb{R}}\frac{1}{1+y^2}f(hy)1_{[0,1]}(hy)dy$$这个换元以后的积分是适合控制收敛定理的（DCT），因为对于任意$h_n\to 0^{+}$的序列:
1. 对于任意$y\in \mathbb{R}$,$$\frac{1}{1+y^2}f(h_ny)1_{[0,1]}(h_ny)\to \frac{1}{1+y^2}f(0)1_{[0,\infty)}(y)$$
2. 对于任意足够大的$n$都有$$\left|\frac{1}{1+y^2}f(h_ny)1_{[0,1]}(h_ny)\right|\leq \frac{M}{1+y^2}$$而后者是一个与参数$n$无关的可积函数($L^1$可积)。

那么控制收敛定理告诉我们$$\begin{aligned}\lim_{n\to \infty}\int_{\mathbb{R}}\frac{1}{1+y^2}f(h_ny)1_{[0,1]}(h_ny)dy&=\int_{\mathbb{R}}\frac{1}{1+y^2}f(0)1_{[0,\infty)}(y)\,dy\\&= \frac{\pi}{2}f(0)\end{aligned}$$
由于以上结果是对任意$h_n\to 0^{+}$的序列成立，于是上述极限对$h\to 0^{+}$也成立。

### 3. 推广

我们可以把“问题1”推广到一般的情形：

> [!命题1]
> $f \in L^1(\mathbb{R})$,并且在$x=x_0$处连续,如果$\{K_{\lambda}(x):\lambda>0\}$是一个逼近单位元，那么$$\int_{\mathbb{R}}K_{\lambda}(x)f(x-x_0)\,dx:=K_{\lambda}*f(x_0)\to f(x_0)$$

* 关于“逼近单位元”的定义可以参考[[approximation to the identity]]。相较于[[approximation to the identity]]的1.1节当中"常用性质"中那三个整体的收敛性质，这个版本的命题更类似于逐点的性质。我们只需要令$$K_{\lambda}(x):=\frac{2}{\pi}\frac{h}{h^2+x^2}$$其中$\lambda = \frac{1}{h}$。我们便可以验证，$K_{\lambda}$满足成为一个逼近单位元的所有性质。其次，令$$g(x):=f(x)1_{[0,1]}(x)$$我们可以验证$g(x)$在$x=0$处是连续的。那么我们可以重复第一节当中的证明，从而实现$$K_{\lambda}*g(x_0)\to g(x_0)$$



